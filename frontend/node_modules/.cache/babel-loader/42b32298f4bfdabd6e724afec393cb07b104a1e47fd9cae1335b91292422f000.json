{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useCallback } from 'react';\nimport { login as apiLogin, logout as apiLogout } from '../services/api';\nexport const useAuth = () => {\n  _s();\n  const [token, setToken] = useState(localStorage.getItem('token'));\n  const login = useCallback(async credentials => {\n    try {\n      const newToken = await apiLogin(credentials);\n      localStorage.setItem('token', newToken);\n      setToken(newToken);\n    } catch (error) {\n      console.error('Login failed:', error);\n      throw error;\n    }\n  }, []);\n  const logout = useCallback(async () => {\n    try {\n      await apiLogout();\n      localStorage.removeItem('token');\n      setToken(null);\n    } catch (error) {\n      console.error('Logout failed:', error);\n      throw error;\n    }\n  }, []);\n  return {\n    token,\n    login,\n    logout\n  };\n};\n_s(useAuth, \"fGiRbcxzy/cQtinmtKepuDvNU+Q=\");","map":{"version":3,"names":["useState","useCallback","login","apiLogin","logout","apiLogout","useAuth","_s","token","setToken","localStorage","getItem","credentials","newToken","setItem","error","console","removeItem"],"sources":["/Users/tzdanows/dev/backend-projs/auth-implementation/frontend/src/hooks/useAuth.ts"],"sourcesContent":["import { useState, useCallback } from 'react';\nimport { login as apiLogin, logout as apiLogout } from '../services/api';\nimport { LoginCredentials } from '../types';\n\nexport const useAuth = () => {\n  const [token, setToken] = useState<string | null>(localStorage.getItem('token'));\n\n  const login = useCallback(async (credentials: LoginCredentials) => {\n    try {\n      const newToken = await apiLogin(credentials);\n      localStorage.setItem('token', newToken);\n      setToken(newToken);\n    } catch (error) {\n      console.error('Login failed:', error);\n      throw error;\n    }\n  }, []);\n\n  const logout = useCallback(async () => {\n    try {\n      await apiLogout();\n      localStorage.removeItem('token');\n      setToken(null);\n    } catch (error) {\n      console.error('Logout failed:', error);\n      throw error;\n    }\n  }, []);\n\n  return { token, login, logout };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC7C,SAASC,KAAK,IAAIC,QAAQ,EAAEC,MAAM,IAAIC,SAAS,QAAQ,iBAAiB;AAGxE,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAgBU,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;EAEhF,MAAMT,KAAK,GAAGD,WAAW,CAAC,MAAOW,WAA6B,IAAK;IACjE,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMV,QAAQ,CAACS,WAAW,CAAC;MAC5CF,YAAY,CAACI,OAAO,CAAC,OAAO,EAAED,QAAQ,CAAC;MACvCJ,QAAQ,CAACI,QAAQ,CAAC;IACpB,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACrC,MAAMA,KAAK;IACb;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMX,MAAM,GAAGH,WAAW,CAAC,YAAY;IACrC,IAAI;MACF,MAAMI,SAAS,CAAC,CAAC;MACjBK,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC;MAChCR,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtC,MAAMA,KAAK;IACb;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEP,KAAK;IAAEN,KAAK;IAAEE;EAAO,CAAC;AACjC,CAAC;AAACG,EAAA,CA1BWD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}